<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>WA iPhone Fake ‚Äî Dark iOS Style</title>
<style>
  :root{
    --bg:#0b0b0c;
    --header:#0f0f10;
    --bubble-other:#2f3336;
    --bubble-me:#0a84ff;
    --popup-bg: rgba(30,30,30,0.78);
    --muted:#9aa0a6;
  }
  html,body{height:100%;margin:0;font-family:-apple-system,"SF Pro Text",BlinkMacSystemFont,"Segoe UI",Roboto,Arial;background:var(--bg);color:#fff;}
  .phone{width:390px;max-width:95vw;height:780px;max-height:95vh;margin:18px auto;border-radius:30px;overflow:hidden;position:relative;background:#0f0f10;box-shadow:0 20px 60px rgba(0,0,0,0.6);display:flex;flex-direction:column;}

  /* Header */
  .topbar{height:68px;display:flex;align-items:center;gap:12px;padding:10px 14px;background:linear-gradient(180deg,var(--header),#131314);border-bottom:1px solid rgba(255,255,255,0.05);}
  .avatar{width:38px;height:38px;border-radius:50%;background:#555;display:flex;align-items:center;justify-content:center;font-weight:600;}
  .meta{flex:1;}
  .meta h1{margin:0;font-size:16px;}
  .meta p{margin:0;font-size:12px;color:var(--muted)}
  .icons{display:flex;gap:12px;font-size:18px;color:#73b7ff}

  /* Chat Area */
  .chat-area{flex:1;overflow:auto;padding:12px 14px 20px;}
  .messages{display:flex;flex-direction:column;gap:10px;}
  .msg-wrap{display:flex;flex-direction:column;max-width:78%;}
  .msg{padding:11px 14px;border-radius:18px;font-size:15px;line-height:1.3;position:relative;word-break:break-word;}
  .msg .time{font-size:11px;color:var(--muted);margin-top:6px;text-align:right;}
  .other{background:var(--bubble-other);border-bottom-left-radius:6px;}
  .me{background:linear-gradient(180deg,var(--bubble-me),#0368d6);color:#fff;align-self:flex-end;border-bottom-right-radius:6px;margin-left:auto;}

  /* Reaksi Emoji di bubble */
  .reaction{position:absolute;bottom:-16px;left:10px;background:#222;padding:2px 6px;border-radius:14px;font-size:14px;}

  /* Composer */
  .composer{height:66px;display:flex;align-items:center;gap:10px;padding:8px 12px;background:#0b0b0c;border-top:1px solid rgba(255,255,255,0.05);}
  .input{flex:1;background:#151517;padding:10px 12px;border-radius:22px;border:1px solid rgba(255,255,255,0.05);color:#fff;font-size:15px;outline:none;}
  .send-btn{width:44px;height:44px;border-radius:12px;background:linear-gradient(180deg,#0a84ff,#0368d6);display:flex;align-items:center;justify-content:center;color:#fff;border:none;font-size:18px;cursor:pointer}

  /* ‚úÖ Centang biru */
  .checks{display:inline-flex;gap:2px;margin-left:4px;font-size:12px;vertical-align:middle;}
  .checks span{color:#8a8f94;}
  .checks.read span{color:#4ea3ff;}

  /* üì± Home Screen */
  #homeScreen{flex:1;display:flex;flex-direction:column;}
  .home-header{padding:14px;font-size:20px;font-weight:bold;}
  .chat-list{flex:1;overflow:auto;}
  .chat-item{display:flex;align-items:center;gap:12px;padding:12px 14px;border-bottom:1px solid rgba(255,255,255,0.05);cursor:pointer;}
  .chat-item:hover{background:rgba(255,255,255,0.05);}
  .chat-info{flex:1;}
  .chat-name{font-weight:600;}
  .chat-last{font-size:13px;color:var(--muted);}
  .chat-time{font-size:12px;color:var(--muted);}
  .wa-nav{display:flex;justify-content:space-around;padding:10px 0;border-top:1px solid rgba(255,255,255,0.05);}
  .wa-nav button{background:none;border:none;color:#fff;cursor:pointer;font-size:14px;}

  /* üé≠ Overlay Emoji */
  .overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.25);
    backdrop-filter: blur(20px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 999;
  }
  .emoji-menu {
    background: #1c1c1d;
    padding: 8px 12px;
    border-radius: 30px;
    display: flex;
    gap: 10px;
    font-size: 22px;
  }
  .emoji-menu span {cursor:pointer;}
</style>
</head>
<body>
<div class="phone">

  <!-- üè† Home Screen -->
  <div id="homeScreen">
    <div class="home-header">WhatsApp</div>
    <div class="chat-list">
      <div class="chat-item" onclick="openChat('Zikri','P',this)">
        <div class="avatar">Z</div>
        <div class="chat-info">
          <div class="chat-name">Zikri -</div>
          <div class="chat-last">P</div>
        </div>
        <div class="chat-time">15.13</div>
      </div>
      <div class="chat-item" onclick="openChat('Andi','Halo!',this)">
        <div class="avatar">A</div>
        <div class="chat-info">
          <div class="chat-name">Andi</div>
          <div class="chat-last">Halo!</div>
        </div>
        <div class="chat-time">14.22</div>
      </div>
    </div>
    <div class="wa-nav">
      <button>Chat</button>
      <button>Panggilan</button>
      <button>Pembaruan</button>
      <button>Fitur</button>
    </div>
  </div>

  <!-- üí¨ Chat Screen -->
  <div id="chatScreen" style="display:none;flex:1;flex-direction:column;">
    <div class="topbar">
      <button onclick="backHome()" style="background:none;border:none;color:#fff;font-size:18px;cursor:pointer;">‚Üê</button>
      <div class="avatar" id="avatar">G</div>
      <div class="meta">
        <h1 id="contactName">customer</h1>
        <p id="status">online</p>
      </div>
      <div class="icons">üìπ üìû</div>
    </div>
    <div class="chat-area" id="chatArea">
      <div class="messages" id="messages"></div>
    </div>
    <div class="composer">
      <input id="inputMsg" class="input" placeholder="Ketik pesan..." />
      <button class="send-btn" id="btnSend">‚û§</button>
    </div>
  </div>
</div>

<script>
  const homeScreen = document.getElementById('homeScreen');
  const chatScreen = document.getElementById('chatScreen');
  const messagesEl = document.getElementById('messages');
  const inputMsg = document.getElementById('inputMsg');
  const btnSend = document.getElementById('btnSend');
  const contactName = document.getElementById('contactName');
  const avatar = document.getElementById('avatar');

  let currentChatItem = null;

  // buka chat
  function openChat(name,lastMsg,el){
    homeScreen.style.display="none";
    chatScreen.style.display="flex";
    contactName.textContent=name;
    avatar.textContent=name[0].toUpperCase();
    messagesEl.innerHTML="";
    addMessage(lastMsg,"other");
    currentChatItem = el;
  }
  function backHome(){
    chatScreen.style.display="none";
    homeScreen.style.display="flex";
  }

  // generate ID
  const genId=()=> 'm'+Date.now()+Math.floor(Math.random()*999);

  // tambah pesan
  function addMessage(text,who='me',time=null){
    const id=genId();
    if(!time){
      const d=new Date();time=d.getHours().toString().padStart(2,'0')+":"+d.getMinutes().toString().padStart(2,'0');
    }
    const wrap=document.createElement('div');wrap.className='msg-wrap';
    const bubble=document.createElement('div');bubble.className='msg '+(who==='me'?'me':'other');bubble.dataset.id=id;
    const t=document.createElement('div');t.className='text';t.textContent=text;
    const tm=document.createElement('div');tm.className='time';tm.textContent=time;
    if(who==='me'){
      const checks=document.createElement('div');checks.className='checks';checks.innerHTML='<span>‚úî</span><span>‚úî</span>';
      tm.appendChild(checks);
    }
    bubble.appendChild(t);bubble.appendChild(tm);wrap.appendChild(bubble);messagesEl.appendChild(wrap);
    messagesEl.scrollTop=messagesEl.scrollHeight;

    if(currentChatItem && who==='me'){
      currentChatItem.querySelector('.chat-last').textContent = text;
      currentChatItem.querySelector('.chat-time').textContent = time;
    }
  }

  // kirim pesan
  btnSend.addEventListener('click',()=>{
    const txt=inputMsg.value.trim();if(!txt) return;
    addMessage(txt,'me');
    inputMsg.value='';
    setTimeout(markAsRead,2000);
  });
  inputMsg.addEventListener('keydown',e=>{
    if(e.key==='Enter'){btnSend.click();e.preventDefault();}
  });

  // centang biru
  function markAsRead(){
    document.querySelectorAll('.msg.me .checks').forEach(c=>c.classList.add('read'));
  }

  // ubah nama kontak
  contactName.addEventListener("click",()=>{
    const newName=prompt("Masukkan nama kontak baru:",contactName.textContent);
    if(newName){
      contactName.textContent=newName;
      avatar.textContent=newName[0].toUpperCase();
      if(currentChatItem){
        currentChatItem.querySelector('.chat-name').textContent = newName;
        currentChatItem.querySelector('.avatar').textContent = newName[0].toUpperCase();
      }
    }
  });

  // üé≠ Emoji Reaction Long Press
  let longPressTimer;
  document.addEventListener("mousedown", e=>{
    if(e.target.closest(".msg")){
      longPressTimer = setTimeout(()=>{
        showEmojiMenu(e.target.closest(".msg"));
      }, 600);
    }
  });
  document.addEventListener("mouseup", ()=> clearTimeout(longPressTimer));

  function showEmojiMenu(msgEl){
    const overlay = document.createElement("div");
    overlay.className = "overlay";

    const menu = document.createElement("div");
    menu.className = "emoji-menu";
    ["‚ù§Ô∏è","üëç","üòÇ","üòÆ","üò¢","üëè"].forEach(em=>{
      const span=document.createElement("span");
      span.textContent=em;
      span.onclick=()=>{
        let r = msgEl.querySelector(".reaction");
        if(!r){
          r=document.createElement("div");
          r.className="reaction";
          msgEl.appendChild(r);
        }
        r.textContent=em;
        overlay.remove();
      };
      menu.appendChild(span);
    });

    overlay.appendChild(menu);
    overlay.onclick=(ev)=>{if(ev.target===overlay) overlay.remove();}
    document.body.appendChild(overlay);
  }
</script>
</body>
</html>